(this["webpackJsonpreact-calendar"]=this["webpackJsonpreact-calendar"]||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){},119:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},160:function(e,a,t){"use strict";t.r(a);t(92),t(93),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(94);var n,r=t(51),c=t(0),o=t.n(c),i=t(30),l=t.n(i),d=t(53),m=t(178),s=t(161),u=t(162),h=t(90),_=t(42),f=t(43),E=t(79),p=t(44),v=t.n(p),y=E.a("data"),b=new(function(){function e(a){Object(_.a)(this,e),this._axios=v.a.create({baseURL:a,headers:{"Content-type":"application/json"}})}return Object(f.a)(e,[{key:"createReminder",value:function(e){return this.axios.post("/reminders",e).then(y)}},{key:"listReminders",value:function(){return this.axios.get("/reminders").then(y)}},{key:"removeReminder",value:function(e){return this.axios.delete("/reminders/".concat(e)).then(y)}},{key:"updateReminder",value:function(e,a){return this.axios.put("/reminders/".concat(e),a).then(y)}},{key:"axios",get:function(){return this._axios}}]),e}())("http://localhost:4000"),w=function(e){return b.createReminder(e)},N=function(e){var a=e.id,t=Object(h.a)(e,["id"]);return b.updateReminder(a,t)},O=t(174),k=Object(O.a)({SET_MODAL_DISPLAY:m.a,SET_REMINDERS:m.a,SET_REMINDER_FIELD:m.a},{prefix:"REMINDER"}),R=k.setModalDisplay,g=k.setReminders,C=k.setReminderField,j=function(){return function(e){e(R({display:!1}))}},x=function(){return function(){var e=Object(d.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.listReminders();case 2:t=e.sent,a(g(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},M=t(29),S=E.a("calendar"),T=Object(M.a)([S],E.a("month")),A=Object(M.a)([S],E.a("year")),P=t(6),I=t.n(P),D=Object(O.a)({SET_DATE:m.a},{prefix:"REMINDER"}).setDate,W=(t(117),t(163)),L=t(164),F=t(177),H=t(88),U=(t(118),t(119),t(35)),B=t.n(U),K=function(e){var a=e.reminder,t=e.onClick,n=B()("calendar__date__reminder","calendar__date__reminder--".concat(a.color.toLowerCase()));return o.a.createElement("p",{key:a.id,className:n,onClick:t},I()(a.datetime).format("HH:mm")," - ",a.name)},Y=function(e){var a=e.date,t=e.targetMonth,n=e.onClick,r=e.reminders,c=a.day(),i=0===c||6===c,l=a.get("month")===t,d=B()("calendar__date","calendar__date--active",{"calendar__date--weekend":i},{"calendar__date--out-of-month":!l}),m=W.a((function(e,a){a.stopPropagation(),n(e)}));return o.a.createElement("div",{className:d,onClick:function(e){e.stopPropagation(),n({datetime:a.toISOString()})}},o.a.createElement("p",{className:"calendar__date__day"},a.get("date")),o.a.createElement("div",{className:"calendar__date__reminders"},r.map((function(e){return o.a.createElement(K,{key:e.id,reminder:e,onClick:m(e)})}))))},G=W.a((function(e,a){var t=e.clone().startOf("day"),n=e.clone().endOf("day"),r=I()(a.datetime);return r.isSameOrAfter(t)&&r.isSameOrBefore(n)})),q=L.a(E.a("datetime")),J=function(e,a){return F.a(H.a(G(e)),q)(a)},V=function(e){var a=e.month,t=e.year,n=e.onClick,r=e.reminders,c=e.nextMonth,i=e.previousMonth,l=function(e,a){for(var t={weeks:[]},n=I()().month(e).year(a).startOf("month"),r=n.clone().endOf("month").endOf("day"),c=n.clone().startOf("week"),o=0;c.isSameOrBefore(r);){for(var i={weekOfMonth:o,dates:[]},l=0;l<7;l++)i.dates.push(c),c=c.clone().add(1,"days");t.weeks.push(i),o++}return t}(a,t);return o.a.createElement("div",{className:"calendar"},o.a.createElement("div",{className:"calendar__header"},o.a.createElement("div",{className:"calendar__header__menu"},o.a.createElement("span",{className:"calendar__header__menu__arrow calendar__header__menu__arrow--left",onClick:i,title:"Previous month"},o.a.createElement("i",{className:"fa fa-arrow-left"})),o.a.createElement("h1",null,I()().year(t).month(a).startOf("month").format("MMM / yyyy")),o.a.createElement("span",{className:"calendar__header__menu__arrow calendar__header__menu__arrow--right",onClick:c,title:"Next month"},o.a.createElement("i",{className:"fa fa-arrow-right"})))),o.a.createElement("div",{className:"calendar__header"},o.a.createElement("div",{className:"calendar__header__week-day"},"Sunday"),o.a.createElement("div",{className:"calendar__header__week-day"},"Monday"),o.a.createElement("div",{className:"calendar__header__week-day"},"Tuesday"),o.a.createElement("div",{className:"calendar__header__week-day"},"Wednesday"),o.a.createElement("div",{className:"calendar__header__week-day"},"Thursday"),o.a.createElement("div",{className:"calendar__header__week-day"},"Friday"),o.a.createElement("div",{className:"calendar__header__week-day"},"Saturday")),o.a.createElement("div",{className:"calendar__body"},l.weeks.map((function(e){return o.a.createElement("div",{key:e.weekOfMonth,className:"calendar__body__week"},e.dates.map((function(e){return o.a.createElement(Y,{key:e.dayOfYear(),date:e,targetMonth:a,onClick:n,reminders:J(e,r)})})))}))))},X=t(38),$=t(173),z=t(89),Q=E.a("reminder"),Z=$.a(0,"asMutable"),ee=Object(M.a)([Q],F.a(E.a("reminders"),Z)),ae=Object(M.a)([Q],z.a(["modal","display"])),te=Object(M.a)([Q],z.a(["modal","reminder"])),ne={nextMonth:function(){return function(e,a){var t=T(a()),n=A(a()),r=I()().year(n).month(t).add(1,"month");e(D({month:r.month(),year:r.year()}))}},previousMonth:function(){return function(e,a){var t=T(a()),n=A(a()),r=I()().year(n).month(t).add(-1,"month");e(D({month:r.month(),year:r.year()}))}},loadReminders:x,showModal:function(e){return function(a){a(R({display:!0,reminder:e}))}}},re=Object(X.b)((function(e){return{month:T(e),reminders:ee(e),year:A(e)}}),ne)((function(e){var a=Object(c.useState)(!1),t=Object(r.a)(a,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){e.loadReminders().then((function(){i(!0)}))}),[n]),o.a.createElement(V,{month:e.month,year:e.year,onClick:e.showModal,reminders:e.reminders,nextMonth:e.nextMonth,previousMonth:e.previousMonth})})),ce=(t(127),function(e){var a=e.href,t=e.newWindow,n=void 0!==t&&t,r=e.children,c={href:a};return n&&(c.target="_blank",c.rel="noreferrer"),o.a.createElement("a",c,r)}),oe=function(){return o.a.createElement("div",{className:"credits"},o.a.createElement("p",null,o.a.createElement(ce,{href:"https://www.iconfinder.com/icons/299096/calendar_clock_icon",newWindow:!0},"Icons")," ","by"," ",o.a.createElement(ce,{href:"https://www.iconfinder.com/paomedia",newWindow:!0},"Paomedia")," ","/\xa0",o.a.createElement(ce,{href:"https://creativecommons.org/licenses/by/3.0/",newWindow:!0},"CC BY 3.0")))},ie=t(62),le=t(80),de=t(168),me=t(169),se=(t(128),t(176)),ue=t(165),he=t(166),_e=t(167),fe=t(82),Ee=t.n(fe),pe=t(83),ve=t.n(pe),ye=se.a(u.a),be=ue.a(u.a,he.a,s.a(ye,"id")),we=ue.a(be,_e.a("Update reminder"),_e.a("Create reminder")),Ne=function(e){var a=e.display,t=e.onCancel,n=e.onClose,r=e.onRemove,c=e.onSave,i=e.reminder,l=e.updateField,d=W.a((function(e,a){return l(e,z.a(["target","value"],a))}));return o.a.createElement("div",{className:B()("modal",{"is-active":a})},o.a.createElement("div",{className:"modal-background"}),o.a.createElement("div",{className:"modal-card"},o.a.createElement("header",{className:"modal-card-head"},o.a.createElement("p",{className:"modal-card-title"},we(i)),o.a.createElement("button",{className:"delete","aria-label":"close",onClick:n})),o.a.createElement("section",{className:"modal-card-body"},o.a.createElement("div",{className:"field is-grouped"},o.a.createElement("div",{className:"control"},o.a.createElement("label",{className:"label"},"Name"),o.a.createElement("input",{className:"input",maxLength:30,onChange:d("name"),placeholder:"Name",type:"text",value:E.a("name",i)})),o.a.createElement("div",{className:"control"},o.a.createElement("label",{className:"label"},"Date"),o.a.createElement(Ee.a,{calendarIcon:null,clearIcon:null,disableCalendar:!0,onChange:l("date"),value:E.a("date",i)})),o.a.createElement("div",{className:"control"},o.a.createElement("label",{className:"label"},"Time"),o.a.createElement(ve.a,{clearIcon:null,clockIcon:null,disableClock:!0,onChange:l("time"),value:E.a("time",i)}))),o.a.createElement("div",{className:"field is-grouped"},o.a.createElement("div",{className:"control"},o.a.createElement("label",{className:"label"},"City"),o.a.createElement("input",{className:"input",onChange:d("city"),placeholder:"City",type:"text",value:E.a("city",i)})),o.a.createElement("div",{className:"control"},o.a.createElement("label",{className:"label"},"Color"),o.a.createElement("div",{className:"select"},o.a.createElement("select",{value:E.a("color",i),onChange:d("color")},o.a.createElement("option",{value:"Blue"},"Blue"),o.a.createElement("option",{value:"Cyan"},"Cyan"),o.a.createElement("option",{value:"Green"},"Green"),o.a.createElement("option",{value:"Red"},"Red"),o.a.createElement("option",{value:"Turquoise"},"Turquoise"),o.a.createElement("option",{value:"Yellow"},"Yellow")))),o.a.createElement("div",{className:"control is-disabled",title:z.a(["weather","description"],i)},o.a.createElement("label",{className:"label"},"Weather"),o.a.createElement("p",{className:"reminder-modal__weather"},z.a(["weather","icon"],i)?o.a.createElement(o.a.Fragment,null,z.a(["weather","main"],i),o.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(z.a(["weather","icon"],i),".png")})):o.a.createElement("span",{className:"has-text-grey"},"No information"))))),o.a.createElement("footer",{className:"modal-card-foot"},o.a.createElement("button",{className:"button",onClick:t},"Cancel"),o.a.createElement("div",{className:"reminder__modal__buttons--right"},be(i)&&o.a.createElement("button",{className:"button is-danger",onClick:r},"Remove"),o.a.createElement("button",{className:"button is-success",onClick:c},"Save changes")))))},Oe=t(84),ke=t.n(Oe),Re=E.a("data"),ge=function(){function e(a,t){Object(_.a)(this,e),this._apiKey=t,this._axios=v.a.create({baseURL:a,headers:{"Content-type":"application/json"}})}return Object(f.a)(e,[{key:"getDailyForecast",value:function(e){var a=ke.a.stringify({appid:this._apiKey,cnt:1,city:e});return this.axios.get("http://www.mocky.io/v2/5ec1dbbf2f00006600c34e0e?".concat(a)).then(Re)}},{key:"axios",get:function(){return this._axios}}]),e}(),Ce=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_USE_REDUX_LOGGER:"true",REACT_APP_REMINDER_API_URL:"http://localhost:4000",REACT_APP_WEATHER_API_URL:"http://api.openweathermap.org/data/2.5",REACT_APP_WEATHER_API_KEY:"ea53bcf04441d21aa49c26bb5d6c583b"}),je=new ge(Ce.REACT_APP_WEATHER_API_URL,Ce.REACT_APP_WEATHER_API_KEY),xe=F.a(E.a("list"),le.a(0),E.a("weather"),le.a(0)),Me=de.a([E.a("city"),E.a("date"),E.a("time")]),Se={hideModal:j,removeReminder:function(e){return function(){var a=Object(d.a)(l.a.mark((function a(t){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n=e,b.removeReminder(n);case 2:t(j()),t(x());case 4:case"end":return a.stop()}var n}),a)})));return function(e){return a.apply(this,arguments)}}()},saveReminder:function(e){return function(){var a=Object(d.a)(l.a.mark((function a(t){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!s.a(u.a,"id",e)){a.next=5;break}return a.next=3,w(e);case 3:a.next=7;break;case 5:return a.next=7,N(e);case 7:t(j()),t(x());case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setReminderField:C},Te=Object(X.b)((function(e){return{display:ae(e),reminder:te(e)}}),Se)((function(e){var a=W.a((function(a,t){return e.setReminderField({name:a,value:t})}));return Object(c.useEffect)((function(){Me(e.reminder)&&function(e){var a=e.city,t=e.date,n=e.time;return je.getDailyForecast(a,t,n)}(me.a(["city","date","time"],e.reminder)).then(xe).then((function(e){return a("weather",e)}))}),[E.a("city",e.reminder),E.a("date",e.reminder),E.a("time",e.reminder)]),o.a.createElement(Ne,{display:e.display,onCancel:e.hideModal,onClose:e.hideModal,onRemove:function(){return e.removeReminder(E.a("id",e.reminder))},onSave:function(){var a=me.a(["id","name","city","color"],e.reminder),t=E.a("date",e.reminder),n=E.a("time",e.reminder).split(":"),c=Object(r.a)(n,2),o=c[0],i=c[1],l=I()(t).hours(o).minutes(i).toISOString();e.saveReminder(Object(ie.a)(Object(ie.a)({},a),{},{datetime:l}))},reminder:e.reminder,updateField:a})})),Ae=function(){return o.a.createElement("div",{className:"app"},o.a.createElement(re,null),o.a.createElement(Te,null),o.a.createElement(oe,null))},Pe=t(32),Ie=t.n(Pe),De=t(23),We=t(85),Le=t(25),Fe=t(26),He=t.n(Fe),Ue=t(175),Be=He()({month:I()().get("month"),year:I()().get("year")}),Ke=Object(Ue.a)(Object(Le.a)({},D,(function(e,a){var t=a.payload;return He.a.set(e,"month",t.month).set("year",t.year)})),Be),Ye=t(179),Ge=t(170),qe=t(171),Je=t(172),Ve=He()({reminders:[],modal:{display:!1,reminder:null}}),Xe=F.a(E.a("datetime"),I.a.bind(I.a)),$e=F.a(Xe,$.a(1,"startOf")("day"),$.a(0,"toDate")),ze=F.a(Xe,$.a(1,"format")("HH:mm")),Qe=F.a(Ye.a({city:"",color:"Blue",date:"",name:"",time:""}),Ge.a(qe.a("date"),[$e,m.a]),Ge.a(qe.a("time"),[ze,m.a]),Je.a("datetime")),Ze=Object(Ue.a)((n={},Object(Le.a)(n,R,(function(e,a){var t=a.payload;return He.a.setIn(e,["modal","display"],t.display).setIn(["modal","reminder"],Qe(t.reminder))})),Object(Le.a)(n,g,(function(e,a){var t=a.payload;return He.a.set(e,"reminders",t)})),Object(Le.a)(n,C,(function(e,a){var t=a.payload;return He.a.setIn(e,["modal","reminder",t.name],t.value)})),n),Ve),ea=function(){return Object(De.combineReducers)({calendar:Ke,reminder:Ze})},aa=t(86),ta=t.n(aa),na=t(87),ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.preloadedState,t=[na.a];t.push(ta.a);var n=De.applyMiddleware.apply(void 0,t),r=Object(We.composeWithDevTools)(n),c=Object(De.createStore)(ea(),a,r);return c}();Ie.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(X.a,{store:ra},o.a.createElement(Ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,a,t){e.exports=t(160)},92:function(e,a,t){},94:function(e,a,t){}},[[91,1,2]]]);
//# sourceMappingURL=main.9acc1d4c.chunk.js.map